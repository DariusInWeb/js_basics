<!DOCTYPE html>
<title>Functions and scopes</title>
    
    
<script>
'use strict';
// I. Intro to Functions
// Compare this ...
console.log('first');
console.log('second');
console.log('third');
console.log('fourth');
console.log('fifth');
console.log('sixth');

// with that... (case code reuse)
console.log('-'.repeat(45));
function demo1 (msg) {
    msg = msg.toUpperCase();
    console.log(msg);
}

demo1('first');
demo1('second');
demo1('third');
demo1('fourth');
demo1('fifth');
demo1('sixth');

// and that... (case code simplification and readability)
console.log('-'.repeat(45));
function demo2 (lst) {
    for (let item of lst) {
        item = item.toUpperCase();
        console.log(item);
    }
}

let my_list = ['first', 'second', 'third', 'fourth', 'fifth', 'sixth'];
demo2(my_list);



// II. Demonstration of Functions and scope.
console.log('-'.repeat(45));

function determineCase(a, b, c) {
    if (a == 0) { 
        aIsZero(b, c) 
    } else { 
        quadratic(a, b, c)
    }
}

function aIsZero (a, b){
    if (a==0 && b==0) {
        console.log('The result is indeterminate');
    } else if (a==0 && b!=0) {
        console.log('The equation is not valid');
    } else {
        console.log(`x = ${-b/a}`);
    }
}

function quadratic(a, b, c) {
    let discriminant = b**2 - 4*a*c;

    if (discriminant < 0) {
        console.log('There are no real solutions! (Discriminant =', discriminant,')');
    } else if (discriminant == 0) {
        console.log('There is one double solution: ', -(b**0.5)/(2*a));
    } else {
        console.log(
         'There are two real solutions: ',(-b + (discriminant**0.5))/(2*a),
         ' and ', (-b - (discriminant**0.5))/(2*a)
         );
    }
}

let abc = prompt('ax'+ String.fromCharCode(178) +' + bx + c = 0.\nEnter coefs (a, b, c):');
if (abc) {  // Remind about Truthiness!
    abc = abc.split(',');
    let a = Number(abc[0]);
    let b = Number(abc[1]);
    let c = Number(abc[2]);
    determineCase(a, b, c);
} else { 
    console.log ('Nothing to do!');
}
</script>
